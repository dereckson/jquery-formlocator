(function(a){var b,c=function(c){a.getJSON(b.serviceURL,function(a){c(a)})},d=function(a,c){var d=document.createElement("input");return b.fieldOverrides[a]?(d.type=void 0===b.fieldOverrides[a].hidden?b.hidden?"hidden":"text":b.fieldOverrides[a].hidden?"hidden":"text",d.className=b.inputClass+" lc8_input ",d.id=b.fieldOverrides[a].inputID||"lc8_"+a):(d.type=b.hidden?"hidden":"text",d.className=b.inputClass,d.id="lc8_"+a),d.value=c,d},e=function(a){var c=document.createElement("label");return b.fieldOverrides[a]?(c.id=b.fieldOverrides[a].labelID||"lc8_"+a+"_label",c.setAttribute("for",b.fieldOverrides[a].inputID||"lc8_"+a),void 0===b.fieldOverrides[a].showLabel?b.hidden&&c.setAttribute("style","display : none"):b.fieldOverrides[a].showLabel||c.setAttribute("style","display : none"),c.innerHTML=b.fieldOverrides[a].labelText||a):(c.id="lc8_"+a+"_label",c.setAttribute("for","lc8_"+a),b.hidden&&c.setAttribute("style","display : none"),c.innerHTML=a),c.setAttribute("name",a),c.className=b.labelClass+" lc8_label",c},f=function(c){var i,j,k,g=(b.hidden?"hidden":"text",b.hidden?"none":"block"),h=b.useFieldset?"lc8_info":b.formID;b.useFieldset&&1>a("#lc8_info").length&&a("#"+b.formID).append('<fieldset id="lc8_info" class="lc8_fieldset '+b.fieldSetClass+'" style="display : '+g+'" ></fieldset>'),k=a("#"+h),a.each(c,function(c,f){var g,h;b.fieldOverrides.hasOwnProperty(c)&&(g=a("#"+b.fieldOverrides[c].inputID),h=a("#"+b.fieldOverrides[c].labelID),g.length>0&&g.val(f),b.fieldOverrides[c].hidden&&g.hide(),h.length>0&&h.text(b.fieldOverrides[c].labelText||c),b.fieldOverrides[c].showLabel||h.hide()),(void 0===g||1>g.length)&&(i=d(c,f),g=a(i),k.append(g[0])),(void 0===h||1>h.length)&&(j=e(c),h=a(j),g.before(h[0]))})},g=function g(){c(function(a){f(a)})},h={init:function(c){return b=a.extend({serviceURL:"http://freegeoip.net/json/",hidden:!1,inputClass:"lc8_input",labelClass:"lc8_label",useFieldset:!0,fieldSetClass:"lc8_fieldset",fieldOverrides:{}},c),this.length>0?(b.formID=this[0].id,g()):a.error("No form with id: "+this.selector),this},update:function(){g()}};a.fn.formLocator=function(b){return h[b]?h[b].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof b&&b?(a.error("Method "+b+" does not exist"),void 0):h.init.apply(this,arguments)}})(jQuery);